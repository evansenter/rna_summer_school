Designing RNA sequences with prescribed structures is an importent task in synthetic biology. We discuss here the foundations of inverse folding for simple structure design tasks and then proceed to more complex tasks such as the rational design of riboswitches. This requires to understand in some detail the conditions for the compatibility of multiple RNA structures. In addition, several energy constraints must be coordinated and translated into a single objective function. The design of a theophylline dependent riboswitch that regulates gene expression by conditional transcriptional termination will be used as an example. Finally we discuss how working design can be improved further by including additional biochemical knowledge.